[circus]
debug = True

[env]
GALAXY_CONFIG_FILE=config/galaxy.yml

[watcher:web]
cmd = uvicorn --factory 'galaxy.webapps.galaxy.fast_factory:factory' --reload --reload-dir lib --app-dir lib --fd $(circus.sockets.web)
numprocesses = 1
use_sockets = True
stop_signal = TERM
stop_children = True
copy_env = True
virtualenv = .venv

[watcher:client]
working_dir = client
cmd = yarn watch
numprocesses = 1
singleton = True
copy_env = True
stop_signal = TERM
stop_children = True

[socket:web]
host = 0.0.0.0
port = 8080

[watcher:celery]
working_dir = lib
cmd = celery
args = --app galaxy.celery worker -l debug
copy_env = True
numprocesses = 1
