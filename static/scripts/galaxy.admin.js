define(["libs/toastr","admin/repos-detail-view","admin/repos-list-view","admin/tools-list-view"],function(a,b,c,d){var e=Backbone.Router.extend({initialize:function(){this.routesHit=0,Backbone.history.on("route",function(){this.routesHit++},this),conosle.log("IN HERE"),this.bind("route",this.trackPageview)},routes:{"":"repolist",repos:"repolist","repos/v/:view":"repolist","repos/v/:view/f/:filter":"repolist","repos/:id":"repodetail",tools:"toollist",dependencies:"dependencylist"},back:function(){this.routesHit>1?window.history.back():this.navigate("#",{trigger:!0,replace:!0})}}),f=Backbone.View.extend({app_config:{known_views:["all","tools","packages","uninstalled"]},initialize:function(){Galaxy.adminapp=this,this.admin_router=new e,this.admin_router.on("route:repolist",function(a,b){-1===Galaxy.adminapp.app_config.known_views.indexOf(a)&&(a="all"),console.log("view: "+a+" section_filter: "+b),Galaxy.adminapp.adminReposListView?(console.log("recycling reposlist view"),Galaxy.adminapp.adminReposListView.repaint({view:a,section_filter:b})):(console.log("new reposlist view"),Galaxy.adminapp.adminReposListView=new c.AdminReposListView({view:a,section_filter:b}))}),this.admin_router.on("route:repodetail",function(a){console.log("detail id:"+a),Galaxy.adminapp.adminRepoDetailView=new b.AdminReposDetailView({id:a})}),this.admin_router.on("route",function(){console.log("IN ROUTER")}),this.admin_router.on("route:toollist",function(a,b){console.log("IN TOOL LIST"),Galaxy.adminapp.adminToolsListView?(console.log("recycling toolsslist view"),Galaxy.adminapp.mod_tools_list_view.repaint({view:a,section_filter:b})):(console.log("new toolsslist view"),Galaxy.adminapp.mod_tools_list_view=new d.AdminToolsListView({view:a,section_filter:b}))}),Backbone.history.start({pushState:!1})}});return{GalaxyApp:f}});
//# sourceMappingURL=../maps/galaxy.admin.js.map