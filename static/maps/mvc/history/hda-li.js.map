{"version":3,"sources":["mvc/history/hda-li.js"],"names":["_super","_datasetLi2","default","DatasetListItemView","HDAListItemView","extend","className","prototype","initialize","attributes","options","call","this","model","templates","warnings","_","hidden","_baseMvc2","wrapTemplate","_localization2","titleBar","titleBarTemplate","dataset","hid","name","_historyItemLi2","nametagTemplate","modelString"],"mappings":"wSAMIA,EAASC,EAAAC,QAAWC,oBAMpBC,EAAkBJ,EAAOK,QAErBC,UAAcN,EAAOO,UAAUD,UAA/B,mBAEAE,WAAY,SAASC,EAAYC,GAC7BV,EAAOO,UAAUC,WAAWG,KAAKC,KAAMH,EAAYC,IAX3DV,SAAS,WAkBD,MAAA,oBAjBZY,KAAAC,MAAA,GAAAD,KAAAC,MAAA,cAiBY,OAOZT,EAAgBG,UAAUO,UAAa,WAf/BN,IAaRO,EAAAC,EAAAX,UAAAL,EAAAO,UAAAO,UAAAC,UACAE,OAAAC,EAAAhB,QAAAiB,cAE2B,gCAAvB,gDAkBY,EAAAC,EAAAlB,SAAG,gCANXa,SACAE,WAGQ,aAWRI,OAAAA,EAAAA,UAAUC,EAAAA,UADkCR,WAE5CC,SA5CY,SAAAQ,GAAA,MAAA,0KAIZA,EAAAC,IAJY,+CAKZD,EAAAE,KALY,+DAQRC,EAAAxB,QAAAyB,gBAA0BC,GARlB,0BA0CgCb,SAAhDA,IA3BmC,cAkCxBX,gBACMA","file":"../../../scripts/mvc/history/hda-li.js","sourcesContent":["import DATASET_LI from \"mvc/dataset/dataset-li\";\nimport BASE_MVC from \"mvc/base-mvc\";\nimport HISTORY_ITEM_LI from \"mvc/history/history-item-li\";\nimport _l from \"utils/localization\";\n\n//==============================================================================\nvar _super = DATASET_LI.DatasetListItemView;\n/** @class Read only view for HistoryDatasetAssociation.\n *      Since there are no controls on the HDAView to hide the dataset,\n *      the primary thing this class does (currently) is override templates\n *      to render the HID.\n */\nvar HDAListItemView = _super.extend(\n    /** @lends HDAListItemView.prototype */ {\n        className: `${_super.prototype.className} history-content`,\n\n        initialize: function(attributes, options) {\n            _super.prototype.initialize.call(this, attributes, options);\n        },\n\n        // ......................................................................... misc\n        /** String representation */\n        toString: function() {\n            var modelString = this.model ? `${this.model}` : \"(no model)\";\n            return `HDAListItemView(${modelString})`;\n        }\n    }\n);\n\n// ............................................................................ TEMPLATES\n/** underscore templates */\nHDAListItemView.prototype.templates = (() => {\n    var titleBarTemplate = dataset => `\n        <div class=\"title-bar clear\" tabindex=\"0\">\n            <span class=\"state-icon\"></span>\n            <div class=\"title\">\n                <span class=\"hid\">${dataset.hid}</span>\n                <span class=\"name\">${dataset.name}</span>\n            </div>\n            </br>\n            ${HISTORY_ITEM_LI.nametagTemplate(dataset)}\n        </div>\n    `;\n\n    var warnings = _.extend({}, _super.prototype.templates.warnings, {\n        hidden: BASE_MVC.wrapTemplate(\n            [\n                // add a warning when hidden\n                \"<% if( !dataset.visible ){ %>\",\n                '<div class=\"hidden-msg warningmessagesmall\">',\n                _l(\"This dataset has been hidden\"),\n                \"</div>\",\n                \"<% } %>\"\n            ],\n            \"dataset\"\n        )\n    });\n\n    return _.extend({}, _super.prototype.templates, {\n        titleBar: titleBarTemplate,\n        warnings: warnings\n    });\n})();\n\n//==============================================================================\nexport default {\n    HDAListItemView: HDAListItemView\n};\n"]}